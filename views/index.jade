extend templates/masterA.jade

append stylesheet
  +include-css("/assets/css/index.css")
  style #cover {background-image: url("#{backgroundUrl}");
  style #introduce {background-image: url("#{backgroundUrl2}");
  style.
    body {
      visibility: hidden;
    }

block content-without-container
  section#cover
    
    .center-block
      .wrapper-block
        h1=majorName.toUpperCase()
        h2=minorName.toUpperCase()
        form#searchform(method="get", action="https://www.baidu.com/s")
          input#searchinput(type="text", name="q1", required, placeholder=searchHint)
          input(type="hidden", name="q6", value=domain)
        h3=script
    #scrollbutton-wrapper
      a(href="#introduce")
        img#scrollbutton(src="/assets/i/scroll.png", alt="")
  section#introduce
    .container
      +label("公司简介")
    #introduce-wrapper
      .container
        #wrapper
          ul.introduce-nav
            each value in introduce
              li.nav-dot
          each value in introduce
            .introduce-item
              - var paras = value.replace(/\n\n/g, "\r").replace(/\n/g, "").split("\r");
              each para in paras
                p=para

append javascript
  script.
    $(function() {
      $("a[href*=#],area[href*=#]").click(function() {
        if (location.pathname.replace(/^\//, "") == this.pathname.replace(/^\//, "") && location.hostname == this.hostname) {
          var $target = $(this.hash);
          $target = $target.length && $target || $("[name=" + this.hash.slice(1) + "]");
          if ($target.length) {
            var targetOffset = $target.offset().top;
            $("html, body").animate({
                scrollTop: targetOffset
            },
            "normal");
            return false;
          }
        }
      });
      $($(".nav-dot")[0]).addClass("active");
      $($(".introduce-item")[0]).addClass("active");
      $(".introduce-item").hide();
      $(".introduce-item.active").show();
      $(".nav-dot").click(function() {
        var jQthis = $(this);
        if(jQthis.hasClass("active")) return;
        $(".nav-dot.active").removeClass("active");
        jQthis.addClass("active");
        var index = $(".nav-dot").index($(this));
        $(".introduce-item.active").removeClass("active").fadeOut(function() {
          $($(".introduce-item")[index]).addClass("active").fadeIn();
        });
      });
      
      $("section").height($(document).height() - $("header").height());
      $("#introduce-wrapper").height($("section").height() - 188);
      $("body").css("visibility", "visible");
    });
  
